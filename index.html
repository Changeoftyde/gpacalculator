<body>
<h1 id="cg2" class="corner" style="color: #437ecf; font-size: 6vw">...</h1>
<img id="header" src="IMG_8409.png">
<h2><br><br><br><br></h2>
<h1><span style="color: #437ecf">Semester/Quarter Calculator</span><br><span style="color: #000000; font-size: 2.5vw">(100 Point Scale)</span></h1>
<h2 style="color: #437ecf; font-size: 3.5vw">Current Grade:</h2>
<h3 style="color: #000000" id="cg">...</h3>
<div id="gte" class="gte">
<button class="addgroup" onclick="addgroup()">Add Group</button>
<div id="b1" class="gteb"><br><span contenteditable="true">GROUP 1</span>-<span contenteditable="true">100</span>%<br>
<button onclick="addgrade()" id="bu1" class="addgrade">Add Grade</button>
<br>
<label for="b1g1" class="gtelabel">Grade 1: </label>
<input class="gteinput" type="number" id="b1g1">
</div>
<div id="space" class="space"></div>
</div>
<style>
  body {
    background-image: url("IMG_8410.png");
    background-repeat: repeat;
    background-size: cover;
  }
  .addgrade {
    color: #bfd3ef;
    background-color: #000000;
    font-size: 2vw;
    font-family: light;
    width: 15vw;
    height: 3.5vw;
    border-radius: 0.5vw;
  }
  @font-face {
    font-family: bold;
    src: url("panton.black-caps.otf");
  }
  @font-face {
    font-family: light;
    src: url("panton.light-caps.otf");
  }
  .space {
    width: 100%;
    height: 20vw;
    position: relative;
  }
  #header {
    width: 100%;
    height: auto;
    top: 0;
    left: 0;
    position: fixed;
    z-index: 2000;
  }
  .corner {
    position: fixed;
    right: 0;
    bottom: 0;
    margin-top: -7.5vw;
    transform: translate(-100%, -100%);
  }
  h3 {
    font-family: bold;
    font-size: 4vw;
    margin-top: -3.33vw;
  }
  h2 {
    font-family: bold;
    font-size: 4vw;
    margin-top: -3.33vw;
  }
  h1 {
    font-family: bold;
    font-size: 5vw;
  }
  .addgroup {
    color: #bfd3ef;
    background-color: #000000;
    left: 30%;
    top: 0%;
    width: 26.67vw;
    height: 5vw;
    font-size: 3.33vw;
    font-family: light;
    border-radius: 0.5vw;
  }
  .gteb {
    position: relative;
    box-sizing: border-box;
    width: 100%;
    height: auto;
    font-family: bold;
    font-size: 3.33vw;
  }
  .gte {
    margin-top: -3.33vw;
    position: absolute;
    left: 10%;
    width: 80.05%;
    height: auto;
  }
  .gtelabel {
    font-size: 2vw;
    font-family: light;
  }
  .gteinput {
    font-family: light;
    font-size: 2vw;
    width: 6.67vw;
    height: 2.33vw;
  }
  body {
    text-align: center;
  }
</style>
<script>
  nog1 = 1;
  nog = 1;
  function addgrade() {
    document.getElementById("space").remove();
    newBr = document.createElement("br");
    document.getElementById("b".concat(event.target.id.substring(2).toString())).appendChild(newBr);
    if (window["nog".concat(event.target.id.substring(2).toString())] > 0) {
    window["nog".concat(event.target.id.substring(2).toString())] += 1;
    } else {
    window["nog".concat(event.target.id.substring(2).toString())] = 1;
    }
    newGrade = document.createElement("label"); 
    newGrade.classList.add("gtelabel");
    newGrade.for = "b".concat(event.target.id.substring(2).toString(), "g", window["nog".concat(event.target.id.substring(2).toString())].toString());
    newGrade.innerHTML = "Grade ".concat(window["nog".concat(event.target.id.substring(2).toString())], ": ");
    document.getElementById("b".concat(event.target.id.substring(2).toString())).appendChild(newGrade);
    newIn = document.createElement("input");
    newIn.classList.add("gteinput");
    newIn.id = "b".concat(event.target.id.substring(2).toString(), "g", window["nog".concat(event.target.id.substring(2).toString())])
    document.getElementById("b".concat(event.target.id.substring(2).toString())).appendChild(newIn);
    newerDiv = document.createElement("div");
    newerDiv.classList.add("space");
    newerDiv.id = "space";
    document.getElementById("gte").appendChild(newerDiv);
  }
  a = 0;
  function addgroup() {
    nog += 1;
    document.getElementById("space").remove();
    newDiv = document.createElement("div");
    newDiv.id = "b".concat(nog.toString());
    newDiv.classList.add("gteb");
    document.getElementById("gte").appendChild(newDiv);
    newBR = document.createElement("br");
    newDiv.appendChild(newBR);
    newGN = document.createElement("span");
    newGN.innerHTML = "GROUP ".concat(nog.toString());
    newGN.contentEditable = true;
    newDiv.appendChild(newGN);
    newSP = document.createElement("span");
    newSP.innerHTML = "-";
    newDiv.appendChild(newSP);
    newSP2 = document.createElement("span");
    newSP2.contentEditable = true;
    newSP2.innerHTML = "0";
    newDiv.appendChild(newSP2);
    newSP3 = document.createElement("span");
    newSP3.innerHTML = "%";
    newDiv.appendChild(newSP3);
    newBR = document.createElement("br");
    newDiv.appendChild(newBR);
    newButton = document.createElement("button");
    newButton.id = "bu".concat(nog.toString()); 
    newButton.classList.add("addgrade");
    newButton.innerHTML = "Add Grade";
    newButton.setAttribute("onclick", "addgrade()");
    newDiv.appendChild(newButton);
    newerDiv = document.createElement("div");
    newerDiv.classList.add("space");
    newerDiv.id = "space";
    newDiv.appendChild(newerDiv);
  }
  cg = document.getElementById("cg");
  window.addEventListener("keydown", function() {
    setTimeout(function() {
    cg.textContent = "0";
    total = 0;
    for (i = 0; i < nog; i++) {
      if (i == 0) {
        total += parseFloat(document.getElementById("b".concat((i + 1).toString())).children[2].innerHTML);
      } else {
        total += parseFloat(document.getElementById("b".concat((i + 1).toString())).children[3].innerHTML);
      }
    }
    for (i = 0; i < nog; i++) {
      if (i == 0) {
        pc = parseFloat(document.getElementById("b".concat((i + 1).toString())).children[2].innerHTML) / total;
      } else {
        pc = parseFloat(document.getElementById("b".concat((i + 1).toString())).children[3].innerHTML) / total;
      }
      num = window["nog".concat((i + 1).toString())];
      ttdb = 0;
      for (a = 0; a < window["nog".concat((i + 1).toString())]; a++) {
        iM = document.getElementById("b".concat((i + 1).toString(), "g", (a + 1).toString())).value;
        if (iM == "") {
          num -= 1;
          continue;
        }
        ttdb += parseInt(iM);
      }
      if (num == 0) {
        continue;
      }
      Pct = (ttdb / num) * pc;
      cg.innerHTML = parseFloat(cg.innerHTML) + Pct;
    }
    t100 = Math.round(parseFloat(cg.innerHTML) * 100);
    cg.innerHTML = t100 / 100;
    document.getElementById("cg2").innerHTML = cg.innerHTML;
    }, 100);
  })
</script>
</body>
</html>
